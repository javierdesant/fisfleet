# üö¢ Battleship UPM - Hundir la Flota 2025

Bienvenido al desarrollo del proyecto **Battleship UPM**, una versi√≥n web moderna y accesible del cl√°sico juego de mesa **Hundir la Flota** con nuevas mec√°nicas especiales y adaptada a los valores y necesidades de la **Universidad Polit√©cnica de Madrid**.

Este proyecto forma parte de la asignatura **Fundamentos de Ingenier√≠a del Software (FIS)** y est√° dise√±ado para que los estudiantes apliquen conceptos fundamentales de la ingenier√≠a del software mientras trabajan en equipo para construir un software robusto, accesible y preparado para el mantenimiento futuro.

---

## üéØ Objetivos del Proyecto

El desarrollo de Battleship permite que los estudiantes practiquen y apliquen los siguientes conceptos clave de la ingenier√≠a del software:

- üìú **Especificaci√≥n de Requisitos**: Recopilaci√≥n y an√°lisis detallados para definir las funcionalidades necesarias.
- üß© **Modelado de An√°lisis y Dise√±o**: Uso de herramientas UML y t√©cnicas de dise√±o para trazar el sistema.
- üöÄ **Desarrollo y Gesti√≥n de Cambios**: Implementaci√≥n din√°mica administrando mejoras y revisiones constantes.
- ‚úîÔ∏è **Verificaci√≥n y Validaci√≥n**: Garantizando la calidad y adaptabilidad en todas las etapas del desarrollo.
- ü§ù **Trabajo en Equipo y Liderazgo**: Coordinaci√≥n grupal con roles bien definidos y enfoque en la colaboraci√≥n.

---

## üõ†Ô∏è Caracter√≠sticas del Juego

**Battleship UPM** trae una versi√≥n renovada y desafiante:

1. **Tablero est√°ndar 10x10**, denotado con filas y columnas numeradas de 0 a 9.
2. **Flotas √∫nicas con habilidades especiales**:
    - **Portaviones (4 casillas)**: Contrataca autom√°ticamente con cada impacto recibido.
    - **Acorazado (3 casillas)**: Puede ejecutar ataques de artiller√≠a que afecten su posici√≥n y adyacentes.
    - **Submarino (3 casillas)**: Repara y resucita una vez durante la partida.
    - **Patrullero (2 casillas)**: Revela toda una fila como habilidad especial.
3. **Puntuaci√≥n de Partida**:
    - 5 puntos por cada posici√≥n de barco enemigo hundida.
    - 2 puntos por cada posici√≥n impactada y no hundida.
    - Penalizaci√≥n de -1 por impacto en agua.
    - Bonus/malus de 20 puntos al ganador o perdedor.
4. **Soporte para Usuarios**:
    - Registro y almacenamiento de jugadores humanos (integraci√≥n con el **LDAP de la UPM** para validaci√≥n).
    - Contrase√±as y datos almacenados bajo cifrado y con cumplimiento de la **LOPD-GDD**.
    - Soporte para jugar contra la m√°quina con niveles de dificultad (*F√°cil, Normal y Dif√≠cil*).
    - Rastreabilidad de estad√≠sticas: Ranking de las 10 mejores puntuaciones de partidas.

---

## üåê Accesibilidad y Dise√±o

El software est√° dise√±ado para ser **inclusivo, accesible y multiplataforma**, cumpliendo con est√°ndares modernos como:

- **HTML5**, compatible con navegadores modernos.
- Dise√±o adaptable y ligero para su uso en **ordenadores, tablets, m√≥viles y televisores**.
- **Modos de visualizaci√≥n personalizados** para personas con dificultades visuales (soporte para daltonismo, ceguera parcial o total).
- **Colores corporativos de la UPM**, integrando un dise√±o unificado y elegante.

---

## üìÇ Estructura del Proyecto

```plaintext
fisfleet/
‚îú‚îÄ‚îÄ docs/                        # Documentaci√≥n del proyecto (UML, requisitos, etc.)
‚îÇ   ‚îî‚îÄ‚îÄ uml/
‚îú‚îÄ‚îÄ frontend/                    # C√≥digo fuente del frontend (React)
‚îÇ   ‚îú‚îÄ‚îÄ design/                  # Recursos de dise√±o (colores, estilos, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/images/       # Im√°genes usadas en la UI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/              # Rutas de React Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _landing/            # P√°gina principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _landing._index/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _auth.login/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ icons/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _auth.register/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _auth.profile/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ match_.$id/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ match_.$id._index/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ icons/
‚îÇ   ‚îú‚îÄ‚îÄ public/                 # Archivos est√°ticos (favicon, im√°genes p√∫blicas)
‚îÇ   ‚îú‚îÄ‚îÄ package.json            # Dependencias del frontend
‚îÇ   ‚îú‚îÄ‚îÄ package-lock.json       # Lockfile de npm
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json           # Configuraci√≥n TypeScript
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts          # Configuraci√≥n Vite
‚îú‚îÄ‚îÄ libs/                       # Librer√≠as externas en formato JAR
‚îÇ   ‚îî‚îÄ‚îÄ etsisi/
‚îÇ       ‚îú‚îÄ‚îÄ Battleship/1.11/
‚îÇ       ‚îî‚îÄ‚îÄ externals/5.1/
‚îú‚îÄ‚îÄ src/                        # C√≥digo fuente del backend (Spring Boot)
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/es/upm/etsisi/fis/fisfleet/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/            # DTOs, mappers, validaciones
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ domain/         # Entidades y repositorios
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/ # Adaptadores, configuraci√≥n, servicios
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/          # Utilidades generales
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/db/       # Scripts de base de datos
‚îÇ   ‚îî‚îÄ‚îÄ test/                   # Tests automatizados del backend
‚îú‚îÄ‚îÄ target/                     # Directorio de build de Maven (ignorado en git)
‚îú‚îÄ‚îÄ TODO/                       # Gesti√≥n de tareas y notas internas
‚îú‚îÄ‚îÄ .env.example                # Ejemplo de variables de entorno
‚îú‚îÄ‚îÄ .gitignore                  # Exclusiones de archivos en Git
‚îú‚îÄ‚îÄ Dockerfile                  # Imagen Docker del proyecto
‚îú‚îÄ‚îÄ docker-compose.yml          # Orquestaci√≥n de servicios
‚îú‚îÄ‚îÄ mvnw, mvnw.cmd              # Wrappers de Maven
‚îú‚îÄ‚îÄ pom.xml                     # Configuraci√≥n Maven del backend
‚îú‚îÄ‚îÄ LICENSE                     # Licencia del proyecto
‚îî‚îÄ‚îÄ README.md                   # Este archivo
```

> **Nota:** El frontend y backend comparten el mismo repositorio, pero cada uno tiene su propia configuraci√≥n y
> dependencias.

---
## Diagramas de dise√±o del sistema
### üòéDiagrama de componentes:
Generado utilizando los componentes arquitect√≥nicos y sus relaciones a trav√©s de las interfaces.

![Diagrama de componentes.jpg](docs%2FDiagrama%20de%20componentes.jpg)
### üòéDiagrama de despliegue:
Representa la implantaci√≥n del sistema.

![Diagrama de despliegue.jpg](docs%2FDiagrama%20de%20despliegue.jpg)

## ‚öôÔ∏è Configuraci√≥n y Ejecuci√≥n

### 1Ô∏è‚É£ Clona el repositorio

```bash
git clone https://gitlab.etsisi.upm.es/bu0211/battleship_citim21_02.git
cd fisfleet
```

### 2Ô∏è‚É£ Configura variables de entorno

Copia el archivo de ejemplo y ed√≠talo seg√∫n tu entorno:

```bash
cp .env .env
```

*Edita .env con tus credenciales y configuraci√≥n preferida*

> **Nota:** √önicamente el backend requiere de un fichero `.env` en este proyecto.

---

### 3Ô∏è‚É£ Instalaci√≥n de dependencias

#### Backend (Java/Spring)

```bash
mvn clean install
```

O bien

```bash
mvn clean
mvn compile
```

#### Frontend (React)

```bash
cd frontend
npm install
cd ..
```

---

### 4Ô∏è‚É£ Desarrollo y ejecuci√≥n local

#### Backend

```bash
mvn spring-boot:run
```

#### Frontend

```bash
cd frontend
npm run dev
cd ..
```

Esto arrancar√° el servidor de desarrollo de React Router con recarga en caliente y generaci√≥n de tipos para rutas.

---

### 5Ô∏è‚É£ Pruebas

#### Backend

```bash
mvn test
```

#### Frontend

```bash
cd frontend
npm run typecheck
```

---

### 6Ô∏è‚É£ Ejecuci√≥n con Docker Compose

La aplicaci√≥n levantar√° un contenedor autom√°ticamente al iniciarse.
En caso de error en la base de datos recuerda que siempre puedes hacer:

```bash
docker-compose down -v
```

---

### 7Ô∏è‚É£ Acceso a la aplicaci√≥n

- **Frontend:** [http://localhost:5173](http://localhost:5173) (modo desarrollo)
- **Backend:** [http://localhost:8080](http://localhost:8080)
- **Producci√≥n (Docker):** Consulta los puertos expuestos en `docker-compose.yml`.

---

## üïπÔ∏è C√≥mo Jugar

1. Accede a la aplicaci√≥n en [http://localhost:5173](http://localhost:5173).
2. **Reg√≠strate** con un correo v√°lido de la **UPM** (alumnos) utilizando las credenciales LDAP.
3. Configura tu partida:
    - Juega contra una **m√°quina** con diferentes niveles de dificultad.
    - Guarda las estad√≠sticas de cada partida, consulta el ranking y mejora tu habilidad.
4. ¬°Disfruta de las nuevas mec√°nicas como las habilidades especiales de las flotas! üö¢

---

## üì¶ Tecnolog√≠as Principales

- **Backend**:
  - Java 23+ con Spring (Boot, MVC, Data JPA).
  - Manejo seguro con autenticaci√≥n LDAP y cifrado.
- **Infraestructura**:
  - Contenerizaci√≥n con Docker y orquestaci√≥n con Docker Compose.
  - Integraci√≥n con bases de datos relacionales como PostgreSQL/MySQL.
  - Uso de Caffeine con cach√©s de alto rendimiento y baja latencia.
- **Frontend**:
    - React, React Router, TailwindCSS, HTML5, CSS3 y dise√±o responsivo compatible con dispositivos modernos.
- **Testeo y Validaci√≥n**:
  - JUnit, Mockito y otras herramientas de pruebas.

---

## üöÄ Pr√≥ximas Mejoras

El mantenimiento y la evoluci√≥n del juego est√°n previstos durante los **pr√≥ximos 5 a√±os**, enfocados en:

- Mejorar los algoritmos de la m√°quina.
- Implementar nuevas mec√°nicas y modos de juego.
- Aumentar las opciones de accesibilidad.

---

## üë®‚Äçüè´ Profesores

- Andrea Cimmino
- Carlos Badenes

---

## üë®‚Äçüíª Desarrolladores

Proyecto realizado por el equipo de la **Universidad Polit√©cnica de Madrid**:

- **Ra√∫l Gonzalo Toapanta**  
  [gonzalo.tpaucar@alumnos.upm.es](mailto:gonzalo.tpaucar@alumnos.upm.es)
- **Javier de Santiago Soto**  
  [javier.desantiago@alumnos.upm.es](mailto:javier.desantiago@alumnos.upm.es)
- **Araceli Argando√±a Macollunco**  
  [a.argandona@alumnos.upm.es](mailto:a.argandona@alumnos.upm.es)
- **Daniel Rodr√≠guez de Nobrega**  
  [daniel.rdenobrega@alumnos.upm.es](mailto:daniel.rdenobrega@alumnos.upm.es)
- **Estefan√≠a Piccetti**  
  [estefania.piccetti@alumnos.upm.es](mailto:estefania.piccetti@alumnos.upm.es)

---

## üåü Licencia

Este proyecto cumple con la **LOPD-GDD** y se rige bajo la [Licencia MIT](LICENSE). Los datos de los jugadores ser√°n
usados exclusivamente con fines relacionados con el juego.

---

## üìÖ Fechas Clave

- **Entrega 1** (Requisitos y An√°lisis): 16 de marzo de 2024.
- **Entrega 2** (Dise√±o, Implementaci√≥n y Pruebas): 25 de mayo de 2024. (26 por m√©ritos)

El proyecto se gestionar√° y entregar√° a trav√©s de **Redmine**, **Gitlab**, y el ecosistema de **Moodle** de la asignatura.

---

> ‚ÄúEl viento y las olas siempre est√°n del lado del navegante m√°s h√°bil.‚Äù  
> *Edmund Gibbon*
